<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Page</title>
    <link rel="stylesheet" href="/css/User/chat.css">
</head>
<body>
	<div class="layout">
		<div class="sidebar">
                <div class="header"> Chat </div>
				<div class="sidebar-section">             
                    <ul>
                        <li><a href="/index.html">Home</a></li>
                        <li><a href="/pages/User/Community.html">Community</a></li>
                        <li><a href="/pages/User/Connect.html">Connect</a></li>
                        <li><a href="/pages/User/Chat.html">Chat</a></li>
                    </ul>
				</div>
		</div>
		<div class="chat-container" id="chatContainer">
			<div class="header" id="chatHeader">Messenger</div>
			<div class="messages" id="messages">
				<p class="placeholder">Select a friend to start chatting...</p>
			</div>
			<div class="input-container">
				<input type="text" id="messageInput" placeholder="Type a message...">
				<button onclick="sendMessage()">Send</button>
			</div>
		</div>
		<div class="friend-list">
			<div class="search-bar">
				<input type="text" id="searchInput" placeholder="Search friends..." onkeyup="filterFriends()">
			</div>
			<div class="friend" onclick="showChat('Friend 1')">
				<img src="https://via.placeholder.com/40" alt="Friend 1">
				<span>Friend 1</span>
			</div>
			<div class="friend" onclick="showChat('Friend 2')">
				<img src="https://via.placeholder.com/40" alt="Friend 2">
				<span>Friend 2</span>
			</div>
			<div class="friend" onclick="showChat('Friend 3')">
				<img src="https://via.placeholder.com/40" alt="Friend 3">
				<span>Friend 3</span>
			</div>
			<div class="friend" onclick="showChat('Friend 4')">
				<img src="https://via.placeholder.com/40" alt="Friend 4">
				<span>Friend 4</span>
			</div>
		</div>
	</div>
    <script>
        function sendMessage() {
            const messages = document.getElementById('messages');
            const input = document.getElementById('messageInput');
            const text = input.value.trim();

            if (text) {
                const message = document.createElement('div');
                message.className = 'message sent';
                message.textContent = text;
                const timestamp = document.createElement('span');
                timestamp.className = 'timestamp';
                timestamp.textContent = new Date().toLocaleTimeString();
                message.appendChild(timestamp);
                messages.appendChild(message);

                input.value = '';
                messages.scrollTop = messages.scrollHeight;
            }
        }

        function filterFriends() {
            const input = document.getElementById('searchInput');
            const filter = input.value.toLowerCase();
            const friends = document.querySelectorAll('.friend');

            friends.forEach(friend => {
                const name = friend.textContent || friend.innerText;
                friend.style.display = name.toLowerCase().includes(filter) ? '' : 'none';
            });
        }

        function showChat(friendName) {
            const chatContainer = document.getElementById('chatContainer');
            const chatHeader = document.getElementById('chatHeader');
            const messages = document.getElementById('messages');

            chatHeader.textContent = friendName;
            messages.innerHTML = ''; // Clear previous messages
            chatContainer.style.display = 'flex';
        }
    </script>
</body>
</html>
